#!/bin/bash
# vim:ft=sh

BLUE="\[\033[01;34m\]"
WHITE="\[\033[01;00m\]"
MAGENTA="\[\033[01;35m\]"
PINK="\[\033[01;31m\]"
GREEN="\[\033[01;32m\]"

GIT_PS1_SHOWDIRTYSTATE=1
GIT_PS1_SHOWSTASHSTATE=1
GIT_PS1_SHOWUNTRACKEDFILES=1

# Set the nice PS1
PS1=""
# Blue: User
PS1="$PS1$BLUE\u"
# White: @
PS1="$PS1$WHITE@"
# Blue: Hostname
PS1="$PS1$GREEN\h"
PS1="$PS1$WHITE:"
PS1="$PS1$MAGENTA\w"
# Git prompt
PS1="$PS1$PINK\$(__git_ps1)"
# White: newline, prompt
PS1="$PS1$WHITE: "

# I love history
export HISTSIZE=""
export HISTFILESIZE=""
export PROMPT_COMMAND='history -a'
# Ignore duplicates and commands with leading whitespace
export HISTCONTROL=ignoreboth

export EDITOR=vim

# ipython needs these two
export PAGER=less
export less=-r

# Platform dependant stuff
if [[ "$(uname)" == 'Linux' ]]; then
    . ~/.bash_linux
elif [[ "$(uname)" == 'Darwin' ]]; then
    . ~/.bash_mac
fi

export PYTHONDONTWRITEBYTECODE=1
if [[ -d "$HOME/.venvs/default" ]]; then
    export PATH="$HOME/.venvs/default/bin:$PATH"
    export PYTHONPATH="$HOME/~/.venvs/default/lib/python3.6/site-packages"
fi

export PATH="$HOME/bin:$PATH"

[[ -f ~/.bash_secret ]] && . ~/.bash_secret
[[ -f ~/.aliases ]] && . ~/.aliases
[[ -f ~/.distraction ]] && . ~/.distraction


# The next line updates PATH for the Google Cloud SDK.
if [ -f '/usr/lib/google-cloud-sdk/path.bash.inc' ]; then source '/usr/lib/google-cloud-sdk/path.bash.inc'; fi

# The next line enables shell command completion for gcloud.
if [ -f '/usr/lib/google-cloud-sdk/completion.bash.inc' ]; then source '/usr/lib/google-cloud-sdk/completion.bash.inc'; fi
